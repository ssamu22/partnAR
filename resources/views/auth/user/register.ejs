<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ARCMS Login</title>
    <link rel="icon" href="/images/lpu_logo_icon.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/styles/user/register.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <style>
      .logo-container {
        margin-bottom: 1.5rem;
      }

      .logo-image {
        max-width: 120px;
        height: auto;
      }

      #dl-btn {
        border: none;
        background: #dc3545;
        color: white;
        border-radius: 6px;
        padding-inline: 10px;
        padding-top: 5px;
        padding-bottom: 5px;
      }

      #dl-btn:hover {
        background: #ef3c4e;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid p-0 main-container">
      <!-- Privacy Policy Modal -->
      <div
        class="modal fade"
        id="privacyModal"
        tabindex="-1"
        aria-labelledby="privacyModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>
                This privacy policy explains how your personal data is
                collected, used, and protected within the Augmented Reality
                Content Management System (ARCMS), which supports the AR mobile
                application <strong>PartnAR</strong>.
              </p>

              <h6>1. Information Collected</h6>
              <p>
                When you register for ARCMS, you are required to provide certain
                personal and professional information:
              </p>
              <ul>
                <li>
                  <strong>Mandatory Information:</strong>
                  <ul>
                    <li>Name (First, Last)</li>
                    <li>Employee Number</li>
                    <li>Email Address</li>
                  </ul>
                </li>
                <li>
                  <strong>Optional Information:</strong> (voluntarily provided
                  by the user)
                  <ul>
                    <li>Middle Name</li>
                    <li>Honorifics</li>
                    <li>Professional Introduction</li>
                    <li>Research Fields</li>
                    <li>Social Media Links</li>
                    <li>Phone Number</li>
                    <li>
                      Personal and Professional Achievements (local and
                      international)
                    </li>
                    <li>Affiliated Organizations (professional and civic)</li>
                    <li>Consultation Hours</li>
                  </ul>
                </li>
              </ul>

              <h6>2. Use of Information</h6>
              <p>
                Your provided information will be displayed in the PartnAR
                mobile application when someone scans your AR business card.
                Optional fields are only shown if you choose to provide them.
              </p>

              <h6>3. Registration and Approval Process</h6>
              <ul>
                <li>
                  After submitting your registration, your account will remain
                  inactive until reviewed and approved by an Administrator.
                </li>
                <li>
                  Once approved, you will receive an
                  <strong>account activation email</strong> at your provided
                  email address. Only after activation can you access and use
                  your ARCMS account.
                </li>
              </ul>

              <h6>4. Administrator Access and Control</h6>
              <ul>
                <li>
                  <strong>Validation:</strong> Admins can review and validate
                  your Research Fields and Honorifics.
                </li>
                <li>
                  <strong>Restricted Fields:</strong> Only Admins can update
                  your official Office Assignment and Company Position.
                </li>
                <li>
                  <strong>Monitoring:</strong> Admins track activity logs
                  including changes made to your profile and login/logout
                  actions for audit and security purposes.
                </li>
              </ul>

              <h6>5. Your Consent</h6>
              <p>
                By registering, you agree to the collection, processing, and use
                of your information as described in this policy. Optional fields
                are completely voluntary and under your control.
              </p>

              <h6>6. Data Protection</h6>
              <p>
                ARCMS uses appropriate technical and organizational safeguards
                to protect your information. Access to administrative functions
                is restricted to authorized personnel only.
              </p>

              <h6>7. Contact</h6>
              <p>
                If you have questions about your data or this policy, please
                contact the system administrator or your institution’s data
                privacy officer.
              </p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-0">
        <!-- Left side with welcome message -->
        <div class="col-md-5 welcome-section">
          <div class="welcome-content">
            <div class="logo-container">
              <img
                src="/images/lpu_logo_icon.png"
                alt="LPU Logo"
                class="logo-image"
              />
            </div>
            <h1 class="brand-name">ARCMS</h1>
            <h2 class="welcome-title">Welcome!</h2>
            <p class="welcome-text">
              Empower your content management with our advanced CMS solution.
              Create, manage, and publish with ease.
            </p>
            <button id="dl-btn">Download PartnAR</button>

            <!-- ERROR MESSAGE BOX WITH GRAY HEADER AND RED ACCENTS -->
            <div
              class="register-errors alert alert-danger"
              style="display: none; position: relative"
            >
              <button
                type="button"
                class="btn-close btn-close-white btn-sm"
                aria-label="Close"
              ></button>
              <div class="error-header">
                <div class="error-header-left">
                  <i class="bi bi-exclamation-triangle-fill"></i>
                  Registration Failed!
                  <span class="error-count">3</span>
                </div>
              </div>
              <div class="error-body">
                <ul class="register-errors-list">
                  <!-- Error items will be inserted here dynamically -->
                </ul>
              </div>
              <div class="error-footer">
                Please correct these issues and try again.
              </div>
            </div>
          </div>
        </div>

        <!-- Right side with registration form -->
        <div class="col-md-7 form-section">
          <div class="form-container">
            <h2 class="text-center mb-4">Register</h2>
            <div
              id="error-message"
              class="alert alert-danger d-none"
              role="alert"
            ></div>
            <form id="register-form">
              <div class="mb-3">
                <label for="fname" class="form-label">First Name*</label>
                <input
                  type="text"
                  class="form-control"
                  id="fname"
                  name="fname"
                  maxlength="30"
                  required
                />
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="mname" class="form-label">Middle Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="mname"
                    name="mname"
                    maxlength="30"
                  />
                </div>
                <div class="col-md-6">
                  <label for="honorifics" class="form-label">Honorifics</label>
                  <select
                    class="form-control"
                    id="honorifics"
                    name="honorifics"
                  >
                    <option value="">-- Select --</option>

                    <!-- Common Titles -->
                    <option value="Mr.">Mr.</option>
                    <option value="Mrs.">Mrs.</option>
                    <option value="Ms.">Ms.</option>
                    <option value="Miss">Miss</option>
                    <option value="Mx.">Mx.</option>

                    <!-- Academic Titles -->
                    <option value="Dr.">Dr.</option>
                    <option value="Prof.">Prof.</option>
                    <option value="Assoc. Prof.">Assoc. Prof.</option>
                    <option value="Asst. Prof.">Asst. Prof.</option>
                    <option value="PhD">PhD</option>

                    <!-- Professional Titles -->
                    <option value="Engr.">Engr.</option>
                    <option value="Atty.">Atty.</option>
                    <option value="Arch.">Arch.</option>
                    <option value="CPA">CPA</option>
                    <option value="Hon.">Hon.</option>
                    <option value="Capt.">Capt.</option>
                    <option value="Chief">Chief</option>
                    <option value="Sr.">Sr.</option>
                    <option value="Jr.">Jr.</option>
                  </select>
                </div>
              </div>

              <div class="mb-3">
                <label for="lname" class="form-label">Last Name*</label>
                <input
                  type="text"
                  class="form-control"
                  id="lname"
                  name="lname"
                  maxlength="30"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="employee_number" class="form-label"
                  >Employee Number*</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="employee_number"
                  name="employee_number"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="email" class="form-label">Email*</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="password" class="form-label">Password*</label>
                <span class="tooltip-register-pass"
                  >i
                  <div class="tooltip-text">
                    • Must be atleast 8 characters long<br />
                    • Must contain at least 1 uppercase letter, 1 lowercase
                    letter, 1 digit, and 1 special character<br />
                    • Passwords must match
                  </div>
                </span>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  required
                />
              </div>

              <div class="mb-4">
                <label for="passwordConfirm" class="form-label"
                  >Confirm Password*</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="passwordConfirm"
                  name="passwordConfirm"
                  required
                />
              </div>
              <div class="mb-3 form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="agreePrivacy"
                  required
                />
                <label class="form-check-label" for="agreePrivacy">
                  I agree to the
                  <a
                    href="#"
                    data-bs-toggle="modal"
                    data-bs-target="#privacyModal"
                    >Privacy Policy</a
                  >.
                </label>
              </div>

              <button type="submit" class="btn-login" id="register-btn">
                Register
              </button>

              <div class="text-center mt-3">
                Already have an account?
                <a href="/" class="sign-in-link">Sign in</a> here!
              </div>
              <div class="auth-links">
                <!-- <a href="#">Forgot Password?</a>
                <a href="#">Create Account</a> -->
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="/js/index.js"></script>
    <script>
      const dlBtn = document.getElementById("dl-btn");

      dlBtn.addEventListener("click", () => {
        const fileId = "1ga_hxdC5M3uxbpoFNIW5qlmCth9AD3oL";
        const fileUrl = `https://drive.google.com/uc?export=download&id=${fileId}`;

        window.open(fileUrl, "_blank");
      });

      
      document.addEventListener("contextmenu", function (e) {
        e.preventDefault();
      });

      // Script to handle error display
      document.addEventListener("DOMContentLoaded", function () {
        // Close error box when clicking the close button
        const closeBtn = document.querySelector(".register-errors .btn-close");
        if (closeBtn) {
          closeBtn.addEventListener("click", function () {
            document.querySelector(".register-errors").style.display = "none";
          });
        }

        // Example function to show errors (can be used by your existing JS)
        window.showRegisterErrors = function (errors) {
          const errorsList = document.querySelector(".register-errors-list");
          const errorBox = document.querySelector(".register-errors");
          const errorCount = document.querySelector(".error-count");

          if (!errorsList || !errorBox || !errorCount) return;

          // Clear previous errors
          errorsList.innerHTML = "";

          // Add each error to the list
          if (Array.isArray(errors)) {
            errors.forEach((error) => {
              const li = document.createElement("li");
              li.textContent = error;
              errorsList.appendChild(li);
            });

            // Update error count
            console.log("NUMBER OF ERRORS:", errors.length);
            console.log("THE ERRORS:", errors);

            errorCount.textContent = errors.length;

            // Show the error box
            errorBox.style.display = "block";
          }
        };
      });
    </script>
  </body>
</html>
